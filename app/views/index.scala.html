@(athlete:Option[domain.Athlete],apiKey:String, messageBox:Option[String] = None)(implicit request: play.api.mvc.Request[Any])
<html lang="en">
<head>
    <title>Strava Segment Maps</title>
    <meta charset="utf-8">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
</head>
<body>
<script src="@routes.Assets.versioned("javascripts/main.js")" type="text/javascript"></script>

@if(messageBox.isDefined){
<div class="alert info" id="infoBanner">
  <span class="closebtn" onclick="closeBanner()">&times;</span>
  @Html(messageBox.get)
</div>

}

<div id="mySidenav" class="sidenav">
    <span class="athleteInfoTitle">Strava Segment Map</span><a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    @athlete match {
        case Some(a) => {
            <a href="#">Update Database</a>
        }
        case None => {
            <a href="@routes.AuthorizationController.authorize() ">Login with Strava</a>
        }
    }
    <a href="@routes.HomeController.index()">Refresh Map</a>
    <a href="#">About</a>

    @athlete match {
        case Some(a) => {
        <div class="athleteInfoBox">
            <span class="athleteInfoTitle">Athlete</span>
            <span class="athleteInfo"><a href="https://www.strava.com/athletes/@a._id" target="_blank">@a.name</a></span>
            <span class="athleteInfoTitle">City:</span>
            <span id="cityValue" class="athleteInfo">@a.city</span>
            <span class="athleteInfoTitle">Last Map Update</span>
            <span class="athleteInfo">@a.lastUpdate</span>
            <span class="athleteInfoTitle">Total Segments</span>
            <span class="athleteInfo" id="totalSegments">0</span>
        </div>
        }
        case None => {<span>Not Loged User</span>}
    }
</div>

<span style="font-size:30px;cursor:pointer" onclick="openNav()">â˜°</span><span style="font-size:30px">Strava Segment Map</span>
<a style="float:right" href="http://www.strava.com" target="_blank"><img style="height:30" src="@routes.Assets.versioned("images/api_logo_pwrdBy_strava_horiz_light.png")"/></a>

<div id="map" style="width:100%;height:100%"></div>


@athlete match {
case Some(a) => {
<script type='text/javascript' src="@routes.MapController.buildmap(a._id)"></script>
<script type='text/javascript'
        src="https://maps.googleapis.com/maps/api/js?key=@apiKey&libraries=visualization,places&callback=initMap"></script>

}
case None => {
<script type='text/javascript'
        src="https://maps.googleapis.com/maps/api/js?key=@apiKey&libraries=visualization&callback=emptyMap"></script>
}
}

</body>
</html>




